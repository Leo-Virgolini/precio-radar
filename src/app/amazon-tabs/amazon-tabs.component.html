<!-- Hero Header -->
<div class="hero-gradient p-1 md:p-3 text-center">
  <h1 class="text-3xl md:text-5xl font-bold mb-2">
    <img src="logo-icon.svg" alt="" class="logo-icon vertical-align-middle mr-2" />
    Productos con Envío a Argentina
    <picture>
      <source type="image/webp" srcset="https://flagcdn.com/28x21/ar.webp,
          https://flagcdn.com/48x36/ar.webp 2x,
          https://flagcdn.com/96x72/ar.webp 3x">
      <source type="image/png" srcset="https://flagcdn.com/28x21/ar.png,
          https://flagcdn.com/48x36/ar.png 2x,
          https://flagcdn.com/96x72/ar.png 3x">
      <img src="https://flagcdn.com/28x21/ar.png" class="flag-title" alt="Argentina">
    </picture>
  </h1>
  <p class="text-sm md:text-xl font-normal mb-2 md:mb-3">
    Productos de Amazon USA
    <picture>
      <source type="image/webp" srcset="https://flagcdn.com/24x18/us.webp, https://flagcdn.com/48x36/us.webp 2x">
      <img src="https://flagcdn.com/24x18/us.png" width="24" height="18" alt="USA" />
    </picture>
    y Amazon España
    <picture>
      <source type="image/webp" srcset="https://flagcdn.com/24x18/es.webp, https://flagcdn.com/48x36/es.webp 2x">
      <img src="https://flagcdn.com/24x18/es.png" width="24" height="18" alt="España" />
    </picture>
    con envío a Argentina
    <picture>
      <source type="image/webp" srcset="https://flagcdn.com/24x18/ar.webp, https://flagcdn.com/48x36/ar.webp 2x">
      <img src="https://flagcdn.com/24x18/ar.png" width="24" height="18" alt="Argentina" />
    </picture>
  </p>

  <p class="text-xs md:text-base mb-2 md:mb-3" style="color: rgba(255,255,255,0.85)">
    Compará precios, encontrá ofertas y ahorrá en tus compras internacionales
  </p>

  <div class="flex flex-wrap justify-content-center gap-2 mb-2 md:mb-4">
    <p-chip label="Envío Gratis +$99 USD" icon="pi pi-truck" />
    <p-chip label="Precios Actualizados" icon="pi pi-sync" />
    <p-chip label="Guía de Compra" icon="pi pi-book" />
  </div>
</div>

<!-- Amazon Tabs -->
<section class="p-1 md:p-3 surface-ground">
  <p-tabs [(value)]="activeTab" class="w-full">
    <p-tablist>
      <p-tab value="0">
        <div class="flex align-items-center gap-2">
          <i class="pi pi-globe"></i>
          <span>{{ tabs[0].label }}</span>
          <p-badge [value]="'' + getCount('ALL')" severity="secondary" />
        </div>
      </p-tab>
      <p-tab value="1">
        <div class="flex align-items-center gap-2">
          <picture>
            <source type="image/webp" srcset="https://flagcdn.com/24x18/us.webp, https://flagcdn.com/48x36/us.webp 2x">
            <img src="https://flagcdn.com/24x18/us.png" width="24" height="18" alt="USA">
          </picture>
          <span>{{ tabs[1].label }}</span>
          <p-badge [value]="'' + getCount('US')" severity="secondary" />
        </div>
      </p-tab>
      <p-tab value="2">
        <div class="flex align-items-center gap-2">
          <picture>
            <source type="image/webp" srcset="https://flagcdn.com/24x18/es.webp, https://flagcdn.com/48x36/es.webp 2x">
            <img src="https://flagcdn.com/24x18/es.png" width="24" height="18" alt="España">
          </picture>
          <span>{{ tabs[2].label }}</span>
          <p-badge [value]="'' + getCount('ES')" severity="secondary" />
        </div>
      </p-tab>
    </p-tablist>

    <p-tabpanels>
      <p-tabpanel value="0">
        @if (activeTab() === '0') {
          <app-product-search [amazonRegion]="'ALL'" class="animate-fade-in"></app-product-search>
        }
      </p-tabpanel>

      <p-tabpanel value="1">
        @if (activeTab() === '1') {
          <app-product-search [amazonRegion]="'US'" class="animate-fade-in"></app-product-search>
        }
      </p-tabpanel>

      <p-tabpanel value="2">
        @if (activeTab() === '2') {
          <app-product-search [amazonRegion]="'ES'" class="animate-fade-in"></app-product-search>
        }
      </p-tabpanel>
    </p-tabpanels>
  </p-tabs>

  <!-- Promo Banners Carousel -->
  @if (activeTab() === '0' || activeTab() === '2') {
  <div class="mt-3 animate-fade-in promo-carousel">
    <p-carousel [value]="promoBanners" [numVisible]="1" [numScroll]="1" [circular]="true" [autoplayInterval]="5000" [showNavigators]="true" [showIndicators]="true">
      <ng-template #item let-banner>
        <a [href]="banner.url" target="_blank" rel="noopener noreferrer nofollow"
          [class]="banner.bannerClass + ' flex flex-column md:flex-row align-items-center justify-content-between gap-3 p-3 md:p-4 border-round-xl no-underline mx-1'">
          <div class="flex align-items-center gap-3">
            <i [class]="banner.icon + ' text-3xl md:text-4xl'"></i>
            <div>
              <h3 class="m-0 text-base md:text-xl font-bold">{{ banner.title }}</h3>
              <p class="m-0 mt-1 text-xs md:text-sm" style="opacity: 0.9">{{ banner.description }}</p>
            </div>
          </div>
          <div [class]="'flex align-items-center gap-2 white-space-nowrap font-bold text-sm md:text-base ' + banner.ctaClass">
            <span>Probá gratis</span>
            <i class="pi pi-arrow-right"></i>
          </div>
        </a>
      </ng-template>
    </p-carousel>
  </div>
  }

  <!-- Info Footer -->
  <div class="mt-3 info-footer border-round-xl p-2 md:p-6">
    <div class="grid">
      <div class="col-12 md:col-6">
        <h2 class="text-xs md:text-lg font-medium mb-1 md:mb-3"><i class="pi pi-info-circle mr-1 md:mr-2 text-xs md:text-base"></i>Sobre PrecioRadar</h2>
        <ul class="text-xs md:text-base font-normal text-color-secondary space-y-2 pl-4 md:pl-5">
          <li>Te ayudamos a encontrar los mejores productos con envío a Argentina</li>
          <li>Comparamos precios y disponibilidad de envío internacional</li>
          <li>Envío disponible desde Amazon US y Amazon España</li>
          <li>Guías y consejos para comprar de forma segura desde el exterior</li>
        </ul>
      </div>
      <div class="col-12 md:col-6">
        <h2 class="text-xs md:text-lg font-medium mb-1 md:mb-3"><i class="pi pi-exclamation-circle mr-1 md:mr-2 text-xs md:text-base"></i>Información importante</h2>
        <ul class="text-xs md:text-base font-normal text-color-secondary space-y-2 pl-4 md:pl-5">
          <li>Como Asociado de Amazon, obtengo ingresos por compras adscritas</li>
          <li>Los precios y la disponibilidad están sujetos a cambios</li>
          <li>Disponibilidad sujeta a stock del vendedor</li>
          <li>Los envíos internacionales pueden tener restricciones aduaneras</li>
        </ul>
      </div>
    </div>
  </div>
</section>
